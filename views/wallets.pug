extends mixins/layout

block nav
  +sidenav()

block content
  #main
    +topnav()
    .overview.is-flex.is-flex-direction-row.is-justify-content-space-between.is-align-items-center.p-5
      .icon-text.secondary
        h3.is-bold Overview
        .icon
          .fas.fa-ellipsis-v
      a(href="/wallets/add").accent
        p.is-bold Add Wallet
    .wallets.tile.is-ancestor.px-5.my-5.is-flex.is-flex-wrap-wrap
      include mixins/transactionsHelper
      each wallet in wallets
        a(href="/wallets/" + wallet.crypto.symbol).wallet.tile.is-parent.is-4.no-hover
          .tile.is-child.box.px-3.py-5
            .is-flex.is-justify-content-space-between.px-4
              .is-flex.is-flex-direction-row.is-align-items-center
                button.button.btn-pale.crypto-logo.mr-4
                  img(src=wallet.crypto.img_url)
                h2.has-text-white=wallet.crypto.name
              .is-flex.is-flex-direction-column.is-align-items-end
                h3.is-bold=wallet.crypto.symbol
                h1.has-text-white=wallet.balance
            .history
              canvas(data-chart=wallet.crypto.symbol).m-3
              if wallet.transactions.length > 0
                +smallTransaction(wallet.transactions[wallet.transactions.length - 1])
              else
                h3.pt-4.pale-grey.muted.mx-3 No transaction to show

      a(href="/wallets/add").tile.is-parent.is-4.no-hover
        .tile.is-child.box.px-3.py-5.wallet-add
          .is-flex.is-align-items-center.is-justify-content-center.height-100
            h1.is-bold.primary Add Wallet

block script
  script(src="/javascripts/walletChart.js" type="module")
